### 系统整体性能评估

整体性能可以使用`uptime`, `w`, `top`等命令

```shell
uptime
01:23:14 up 164 days, 21:53,  8 users,  load average: 0.25, 0.35, 0.39
```

这里需要注意的是: load average的输出值分别为: 1分钟平均负载, 5分钟平均负载, 15分钟平均负载, 大小一般不能大于系统cpu的个数. 如果输出值小于cpu的个数, 则表示cpu还有空闲的时间片

**所以ft的机器cpu负载正常**

#### vmstat

该命令可以显示关于系统各种资源之间相关性能的简要信息

```shell
vmstat 2 5
procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 3  0      0 195816 1425708 4099968    0    0     0    49    0    0 13  4 82  0  0	
 1  0      0 234504 1425708 4099980    0    0     0     0 2598  325 39  1 60  0  0	
 1  0      0 243432 1425712 4099980    0    0     0     6 1484  137 29  0 71  0  0	
 1  0      0 240208 1425712 4099980    0    0     0     0 1237  123 25  0 75  0  0	
 1  0      0 233760 1425712 4099980    0    0     0     0 2390  314 37  1 62  0  0
```

* procs

  r列表示运行和等待cpu时间片的进程数, 这个值如果长期大于系统cpu的个数, 说明cpu不足, 需要增加cpu

  b列表示在等待资源的进程数, 比如正在等待I/O, 或者内存交换等

* cpu

  us列显示了用户进程消耗cpu时间百分比. us的值比较高时, 说明用户进程消耗的cpu时间较多, 但是如果长期大于50%, 就需要要考虑优化程序或算法

  sy列显示了内核进程消耗的cpu时间百分比. sy的值较高时, 说明内核消耗的cpu资源很多.据经验, us+sy的参考值为80%, 如果us+sy大于80%说明可能存在cpu资源不足

**所以, 姑且认为用户进程占用了较多的cpu资源**

